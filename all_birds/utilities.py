def find_dict_keys(search, d):
    if isinstance(d, dict) and search in d:
        yield d[search]
    else:
        if isinstance(d, (tuple, list)):
            for a in d:
                for x in find_dict_keys(search, a):
                    yield x
        elif isinstance(d, dict):
            for a in d:
                for x in find_dict_keys(search, d[a]):
                    yield x


def get_coords(s):
    if hasattr(s, 'boundary'):
        if hasattr(s.boundary, 'coords'):
            yield s.boundary.coords
        else:
            try:
                for p in s:
                    for x in get_coords(p):
                        yield x
            except:
                pass


def get_variable_from_standard(nc, standard_name):
    var_matches = []
    for var in nc.variables:
        try:
            sn = nc.variables[var].standard_name
            if standard_name == sn:
                var_matches.append(var)
        except StandardError:
            pass

    return [nc.variables[v] for v in var_matches]
