# -*- coding: utf-8 -*-
# <nbformat>3.0</nbformat>

# <markdowncell>

# ## Subset higher order stats by our bounding boxes

# <codecell>

lat_var = get_variable_from_standard(nc, "latitude")[0]
lat_indices = np.logical_and(lat_var[:] <= maxy,
                             lat_var[:] >= miny)
lat_indices = np.where(lat_indices)
lat_data = lat_var[lat_indices]


lon_var = get_variable_from_standard(nc, "longitude")[0]
#PMEL models are in positive east, so we have to convert our bounding box.
minx_modulo360 = minx + 360.
maxx_modulo360 = maxx + 360.

lon_indices = np.logical_and(lon_var[:] <= maxx_modulo360,
                             lon_var[:] >= minx_modulo360)

lon_indices = np.where(lon_indices)
lon_data = lon_var[lon_indices]

# <codecell>

import pandas as pd
data = pd.Panel(subset_variable, items=time_data, major_axis=lat_data, minor_axis=lon_data)

